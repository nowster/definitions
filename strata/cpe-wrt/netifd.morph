name: netifd
kind: chunk

configure-commands:
- cmake -DCMAKE_INSTALL_PREFIX=$PREFIX -DLIBNL_LIBS=-lnl-tiny -DLIBNL_INCLUDE_DIRS=/usr/include/libnl-tiny

build-commands:
- make

install-commands:
- make install
- install -d "$DESTDIR"/lib/netifd
- install scripts/* "$DESTDIR"/lib/netifd
- install -d "$DESTDIR"/etc/config
- install config/* "$DESTDIR"/etc/config

post-install-commands:
- install -d "$DESTDIR/sbin" && cd "$DESTDIR/sbin" && ln -s ..$PREFIX/sbin/netifd netifd

